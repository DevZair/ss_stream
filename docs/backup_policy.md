# Политика резервного копирования

- **Типы бэкапов**: полный (ежедневно в 02:00), дифференциальный (каждые 6 часов), инкрементальный для журналов/транзакций при большой нагрузке.
- **Инструменты**: `scripts/backup_db.sh` (mysqldump + gzip), `scripts/restore_db.sh`.
- **Хранение**: локально в каталоге `backups/` + копия в облаке/сетевом диске; ротация: 7 дневных, 4 еженедельных, 3 ежемесячных снапшота.
- **Проверка восстановления**: раз в неделю разворачивать бэкап на тестовой БД и прогонять smoke-тесты.
- **Безопасность**: доступ к бэкапам только у админ-группы; шифровать архивы при переносе вне сервера; не хранить пароли в скриптах — только в переменных окружения.
- **Процесс**:
  1. `./scripts/backup_db.sh` — создать дамп.
  2. Скопировать дамп в защищенное хранилище, отметить дату/версию.
  3. Для восстановления: `./scripts/restore_db.sh backups/<имя_дампа>.sql.gz`.
